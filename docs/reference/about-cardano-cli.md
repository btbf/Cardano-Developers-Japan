# カルダノCLI リファレンス

## カルダノCLIの説明

Cardano-cliは、カルダノブロックチェーンと対話するためのコマンドラインインターフェイス(CLI) ツールです。
サブコマンドの階層で構成されており、各レベルにはコマンド構文とオプションに関する独自の組み込みドキュメントが付属しています。  

Cardano-cliツールを使用すると以下のような操作や実行ができます。
``` { .yaml .no-copy }
- 支払いキーの作成と管理
- ADAの送受信
- ステークの委任
- ブロックチェーンデータを照会
- スマートコントラクトとの対話
```

## コマンド構築イメージ
!!! info "コマンド"
    ``` { .yaml .no-copy }
    cardano-cli
    ```
    !!! info "サブコマンド"
        ``` { .yaml .no-copy }
        address
        ```
        !!! info "ターゲット"
            ``` { .yaml .no-copy }
            key-gen
            ```
            !!! info "オプション"
                ``` { .yaml .no-copy }
                [--key-output-format <STRING>]
                [ --normal-key
                | --extended-key
                | --byron-key
                ]
                --verification-key-file <FILE>
                --signing-key-file <FILE>
                ```

!!! tip "例）支払いキーの作成"
    ``` { .yaml .no-copy } 
    cardano-cli address key-gen \
        --verification-key-file payment.vkey \
        --signing-key-file payment.skey
    ```


## コマンド紹介
※ オプションは省略します。
> いくつかのcmdオプションの順序に気をつけてください。間違った使い方をすると、 望ましくないTxボディを生成する可能性がありますので実行前に確認してください。  

| コマンド         | サブコマンド      | ターゲット        | 説明        |
| :-------------- | :-------------- | :-------------- | :----------- |
| **cardano-cli** | -               | -               | **中核となるコマンド** |
| -               | **help**     | -               | **全てのヘルプを表示** |
| -               | **version**     | -               | **cardano-cliのバージョンを表示** |
| -               | **address**     | -               | **支払いアドレスコマンド** |
| -               | -               | **key-gen**     | **単一のアドレスキーペアを作成** |
| -               | -               | **key-hash**    | **アドレスのハッシュを標準出力に表示** |
| -               | -               | **build**    | **支払い先アドレスを構築し、オプションでステークアドレスへの委任も可能** |
| -               | -               | **info**    | **アドレスに関する詳細を出力** |
| -               | **stake-address**     | -               | **ステークアドレスコマンド** |
| -               | -               | **key-gen**    | **単一のアドレスキーペアを作成** |
| -               | -               | **build**    | **ステークアドレスを構築** |
| -               | -               | **key-hash**    | **ステーク検証キーのハッシュを表示** |
| -               | -               | **registration-certificate**    | **登録証明書を作成** |
| -               | -               | **deregistration-certificate**    | **登録抹消証明書を作成** |
| -               | -               | **delegation-certificate**    | **ステークアドレスの委任証明書を作成** |
| -               | **key**     | -               | **主なユーティリティ・コマンド** |
| -               | -               | **verification-key**    | **署名鍵から検証鍵を取得。これはすべてのキー・タイプをサポート** |
| -               | -               | **non-extended-key**    | **拡張検証鍵から非拡張検証鍵を取得。これはすべての拡張鍵タイプをサポート** |
| -               | -               | **convert-byron-key**    | **バイロン支払、ジェネシス、またはジェネシスデリゲート鍵（署名または検証）を対応するシェリー形式の鍵に変換** |
| -               | -               | **convert-byron-genesis-vkey**    | **Base64エンコードされたバイロン生成検証鍵をシェリー生成検証鍵に変換** |
| -               | -               | **convert-itn-key**    | **Incentivized Testnet (ITN) の非拡張 (Ed25519) 署名鍵または検証鍵を対応するシェリーステーク鍵に変換** |
| -               | -               | **convert-itn-extended-key**    | **Incentivized Testnet (ITN) 拡張 (Ed25519Extended) 署名鍵を対応するシェリーステーク署名鍵に変換** |
| -               | -               | **convert-itn-bip32-key**    | **Incentivized Testnet (ITN) BIP32 (Ed25519Bip32) 署名鍵を対応するシェリーステーク署名鍵に変換** |
| -               | -               | **convert-cardano-address-key**    | **カルダノ・アドレスの拡張署名鍵を対応するシェリー形式の鍵に変換** |
| -               | **transaction**     | -               | **トランザクションコマンド** |
| -               | -               | **build-raw**    | **低レベルのトランザクションを構築します (フラグは、`--cardano-mode`, `--byron-mode`, `--shelley-mode` を使用します。)** |
| -               | -               | **build**    | **自動的にバランスの取れたトランザクションを構築 (手数料を自動計算します)** |
| -               | -               | **sign**    | **トランザクションに署名** |
| -               | -               | **witness**    | **トランザクションを目撃する** |
| -               | -               | **assemble**    | **トランザクション目撃者とトランザクション本体を結合し、トランザクションを生成** |
| -               | -               | **submit**    | **CARANO_NODE_SOCKET_PATH環境変数から取得したUnixドメインソケットを持つローカルノードにトランザクションを送信 (フラグは、 `--cardano-mode`, `--byron-mode`, `--shelley-mode` を使用)** |
| -               | -               | **policyid**    | **ポリシーIDを取得** |
| -               | -               | **calculate-min-fee**    | **トランザクションの最低手数料を計算** |
| -               | -               | **calculate-min-required-utxo**    | **トランザクション出力に最低限必要なADAを計算** |
| -               | -               | **hash-script-data**    | **スクリプトデータのハッシュを計算 (datums)** |
| -               | -               | **txid**    | **トランザクションIDを取得** |
| -               | -               | **view**    | **トランザクションを表示** |
| -               | **node**     | -               | **ノード操作コマンド** |
| -               | -               | **key-gen**    | **ノードオペレーターのオフラインキーと新しい証明書発行カウンターのキーペアを作成** |
| -               | -               | **key-gen-KES**    | **ノードのKES運用鍵のキーペアを作成** |
| -               | -               | **key-gen-VRF**    | **ノードのVRF運用鍵のキーペアを作成** |
| -               | -               | **key-hash-VRF**    | **ノードのVRF運用鍵のキーハッシュを作成** |
| -               | -               | **new-counter**    | **特定の運用証明書ホットキーのKES進化回数を追跡** |
| -               | -               | **issue-op-cert**    | **ノード運用証明書を発行** |
| -               | **stake-pool**     | -               | **ステークプールコマンド** |
| -               | -               | **registration-certificate**    | **ステークプール登録証明書を作成** |
| -               | -               | **deregistration-certificate**    | **ステークプールの登録抹消証明書を作成** |
| -               | -               | **id**    | **オフラインキーからプールIDを構築** |
| -               | -               | **metadata-hash**    | **メタデータのハッシュを取得** |
| -               | **query**     | -               | **ノードクエリコマンド**<br>このグループのコマンドは、CARDANO_NODE_SOCKET_PATH環境変数から取得したUnixドメインソケットを持つローカルノードに問合せを行います。|
| -               | -               | **protocol-parameters**    | **(高度) : ノードの現在のプールパラメータを取得 (`Ledger.ChainDepState` の生のダンプ)** |
| -               | -               | **constitution-hash**    | **憲法ハッシュを取得** |
| -               | -               | **tip**    | **ノードの現在のチップを取得 (スロット番号、ハッシュ、ブロック番号)** |
| -               | -               | **stake-pools**    | **ノードの現在のステークプールIDのセットを取得** |
| -               | -               | **stake-distribution**    | **ノードの現在のステーク分布の集計を取得** |
| -               | -               | **stake-address-info**    | **ステークアドレスでフィルタリングされた現在の委任と報酬アカウントを取得** |
| -               | -               | **utxo**    | **アドレスでフィルタリングされたノードの現在のUTxOを取得** |
| -               | -               | **ledger-state**    | **(高度) :  ノードの現在の状態をダンプ (`Ledger.NewEpochState`の生のダンプ)- `stake-distribution` : ノードの現在のステークプールIDのセットを取得** |
| -               | -               | **protocol-state**    | **(高度) : ノードの現在のプロトコル状態をダンプ** |
| -               | -               | **stake-snapshot**    | **(高度) : ステークプールのステークスナップショット情報を取得** |
| -               | -               | **leadership-schedule**    | **現在または次のエポックにおいて、ノードがスロットリーダーであるスロットを取得** |
| -               | -               | **kes-period-info**    | **(高度) : 運用証明書に関する診断情報を返却** |
| -               | -               | **pool-state**    | **プールの状態のダンプ** |
| -               | -               | **tx-mempool**    | **メンプール情報** |
| -               | -               | **slot-number**    | **UTCタイムスタンプのスロット番号を照会** |
| -               | **genesis**     | -               | **ジェネシスブロックコマンド** |
| -               | -               | **key-gen-genesis**    | **ジェネシスキーペアを作成** |
| -               | -               | **key-gen-delegate**    | **ジェネシスデリゲートキーペアを作成** |
| -               | -               | **key-gen-utxo**    | **ジェネシスUTxOキーペアを作成** |
| -               | -               | **key-hash**    | **公開鍵の識別子またはハッシュを表示** |
| -               | -               | **get-ver-key**    | **署名鍵から検証鍵を導く** |
| -               | -               | **initial-addr**    | **検証キーに基づいて初期UTxOのアドレスを取得** |
| -               | -               | **initial-txin**    | **検証キーに基づき、初期UTxOのTxInを取得** |
| -               | -               | **create-cardano**    | **ジェネシステンプレートとGenesis/Delegation/Spendingキーから バイロンとシェリーのジェネシスファイルを作成** |
| -               | -               | **create**    | **ジェネシステンプレートとGenesis/Delegation/Spendingキーからシェリーのジェネシスファイルを作成** |
| -               | -               | **create-staked**    | **ジェネシステンプレートとGenesis/Delegation/Spendingキーからステークされたシェリーのジェネシス・ファイルを作成** |
| -               | -               | **hash**    | **ジェネシスファイルのハッシュを計算** |
| -               | **governance**     | -               | **ガバナンスコマンド** |
| -               | -               | **create-mir-certificate**    | **MIR（ムーブ・インスタント・リワード）証明書の作成** |
| -               | -               | **create-genesis-key-delegation-certificate**    | **ジェネシス鍵委任証明書の作成** |
| -               | -               | **create-update-proposal**    | **更新プロポーザルの作成** |
| -               | -               | **create-poll**    | **SPOの世論調査の作成** |
| -               | -               | **answer-poll**    | **SPOの世論調査に返答** |
| -               | -               | **verify-poll**    | **与えられたSPO投票への回答を検証** |
| -               | **text-view**     | -               | **シェリーテキストビューファイルを扱うためのコマンド。取引、住所などはテキストビューファイルとしてディスクに保存** |
| -               | -               | **decode-cbor**    | **テキストビューファイルをデコードされたCBORとして表示** |
| -               | **byron**     | -               | **バイロン専用コマンド** |
| -               | -               | **key**    | **バイロン鍵ユーティリティのコマンド** |
| -               | -               | **transaction**    | **バイロントランザクションコマンド** |
| -               | -               | **genesis**    | **バイロンジェネシスブロックコマンド** |
| -               | -               | **governance**    | **バイロンガバナンスコマンド** |
| -               | -               | **miscellaneous**    | **バイロンのその他のコマンド** |
| -               | **ping**     | -               | **ノード間またはノード対クライアントのプロトコルを使用して、カルダノノードに pingを実行します。 ハンドシェイクを交渉し、キープアライブメッセージを送信し続けます。** |

> 2024/3/23　記載
