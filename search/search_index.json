{"config":{"lang":["ja"],"separator":"[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"node/cardano-network/","title":"\u30ab\u30eb\u30c0\u30ce\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6982\u8981","text":""},{"location":"node/cardano-network/#_2","title":"\u30a6\u30ed\u30dc\u30ed\u30b9\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u306f\uff1f","text":"<p>\u30a6\u30ed\u30dc\u30ed\u30b9\u306f\u3001\u5b89\u5168\u6027\u304c\u8a3c\u660e\u3055\u308c\u305f\u6700\u521d\u306e\u30d7\u30eb\u30fc\u30d5\u30fb\u30aa\u30d6\u30fb\u30b9\u30c6\u30fc\u30af\u30fb\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3042\u308a\u3001\u67fb\u8aad\u6e08\u307f\u306e\u7814\u7a76\u306b\u57fa\u3065\u3044\u305f\u6700\u521d\u306e\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u30fb\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002\u30a6\u30ed\u30dc\u30ed\u30b9\u306f\u3001\u72ec\u81ea\u306e\u30c6\u30af\u30ce\u30ed\u30b8\u30fc\u3068\u6570\u5b66\u7684\u306b\u691c\u8a3c\u3055\u308c\u305f\u30e1\u30ab\u30cb\u30ba\u30e0\u3001\u3055\u3089\u306b\u306f\u884c\u52d5\u5fc3\u7406\u5b66\u3068\u7d4c\u6e08\u54f2\u5b66\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u3082\u306e\u3067\u3001\u305d\u308c\u306b\u4f9d\u5b58\u3059\u308b\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u6301\u7d9a\u53ef\u80fd\u6027\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u6700\u5c0f\u9650\u306e\u30a8\u30cd\u30eb\u30ae\u30fc\u8981\u4ef6\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u30ec\u30b9 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u666e\u53ca\u3092\u4fc3\u9032\u3067\u304d\u308b\u3001\u5b9f\u8a3c\u6e08\u307f\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4fdd\u8a3c\u3092\u5099\u3048\u305f\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u8a95\u751f\u3057\u307e\u3057\u305f\u3002\u30ab\u30eb\u30c0\u30ce\u306f\u305d\u306e\u6700\u521d\u306e\u3082\u306e\u3067\u3059\u3002</p> <p>\u30a6\u30ed\u30dc\u30ed\u30b9\u306e\u4e2d\u5fc3\u306b\u306f\u7121\u9650\u306e\u6982\u5ff5\u304c\u3042\u308a\u307e\u3059\u3002\u30b0\u30ed\u30fc\u30d0\u30eb \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306f\u3001\u4e16\u754c\u306b\u3088\u308a\u591a\u304f\u306e\u6a5f\u4f1a\u3092\u63d0\u4f9b\u3057\u306a\u304c\u3089\u3001\u305d\u308c\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u3001\u6301\u7d9a\u7684\u304b\u3064\u502b\u7406\u7684\u306b\u6210\u9577\u3067\u304d\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u30a6\u30ed\u30dc\u30ed\u30b9\u3067\u306f\u305d\u308c\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u30a6\u30ed\u30dc\u30ed\u30b9\u306f\u3001\u65b0\u3057\u3044\u5e02\u5834\u3092\u6301\u7d9a\u7684\u306b\u30b5\u30dd\u30fc\u30c8\u3067\u304d\u308b\u5206\u6563\u578b\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u30ec\u30b9 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4f5c\u6210\u3068\u5b9f\u73fe\u3092\u4fc3\u9032\u3057\u307e\u3059\u3002</p> <p>\u5f15\u7528:\u30a6\u30ed\u30dc\u30ed\u30b9\u30d7\u30ed\u30c8\u30b3\u30eb</p>"},{"location":"node/cardano-network/#_3","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7a2e\u5225","text":""},{"location":"node/cardano-network/#_4","title":"\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8","text":"<p>\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8\u306f\u73fe\u57283\u7a2e\u985e\u3042\u308a\u3001\u305d\u308c\u305e\u308c\u30d7\u30ed\u30c8\u30b3\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u3084\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u7570\u306a\u308a\u7528\u9014\u306b\u3088\u3063\u3066\u4f7f\u3044\u5206\u3051\u307e\u3059\u3002</p> <p>Pre-Production \u30c6\u30b9\u30c8\u30cd\u30c3\u30c8</p> <p>\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8\u3068\u540c\u3058\u30d7\u30ed\u30c8\u30b3\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\u304c\u9069\u7528\u3055\u308c\u305f\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8\u3002\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8\u3068\u307b\u307c\u540c\u6642\u671f\u306b\u30d5\u30a9\u30fc\u30af\u3057\u307e\u3059\u3002\u5b9f\u7a3c\u50cd\u524d\u306e\u30c6\u30b9\u30c8\u306b\u3054\u5229\u7528\u9802\u3051\u307e\u3059\u3002</p> networkId networkMagic epochLength Testnet 1 432000 (5\u65e5) <p>CardanoScan(PreProd)</p> <p>Preview \u30c6\u30b9\u30c8\u30cd\u30c3\u30c8</p> <p>\u958b\u767a\u7528\u9014\u306e\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8\u3002\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8\u3088\u308a\u3082\u7d044\u9031\u9593\u5148\u306b\u30d5\u30a9\u30fc\u30af\u3057\u307e\u3059\u3002</p> networkId networkMagic epochLength Testnet 2 86400 (1\u65e5) <p>CardanoScan(Preview)</p> <p>Sanchonet \u30c6\u30b9\u30c8\u30cd\u30c3\u30c8</p> <p>Conway\u6642\u4ee3\u306b\u304a\u3051\u308bCIP-1698\u30ac\u30d0\u30ca\u30f3\u30b9\u6a5f\u80fd\u304c\u5b9f\u88c5\u3055\u308c\u305f\u65b0\u6a5f\u80fd\u3068\u30ce\u30fc\u30c9\u3092\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u306e\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8\u3002\u65b0\u3057\u3044\u30ce\u30fc\u30c9\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u308b\u305f\u3073\u306b\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3055\u308c\u307e\u3059\u3002</p> networkId networkMagic epochLength Testnet 4 86400 (1\u65e5) <p>Cexplorer.io(SanchoNet)</p>"},{"location":"node/cardano-network/#_5","title":"\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8","text":"<p>\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8</p> <p>Conway\u6642\u4ee3\u306b\u304a\u3051\u308bCIP-1698\u30ac\u30d0\u30ca\u30f3\u30b9\u6a5f\u80fd\u304c\u5b9f\u88c5\u3055\u308c\u305f\u65b0\u6a5f\u80fd\u3068\u30ce\u30fc\u30c9\u3092\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u306e\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8\u3002\u65b0\u3057\u3044\u30ce\u30fc\u30c9\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u308b\u305f\u3073\u306b\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3055\u308c\u307e\u3059\u3002</p> networkId networkMagic epochLength Mainnet 764824073 432000 (5\u65e5) <p>CardanoScan(\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8)</p>"},{"location":"node/node-install/","title":"\u30ce\u30fc\u30c9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(PreProd\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8)","text":""},{"location":"node/node-install/#1","title":"1. \u6982\u8981","text":""},{"location":"node/node-install/#_1","title":"\u5fc5\u8981\u30b9\u30da\u30c3\u30af","text":"<p>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u3088\u308a\u5fc5\u8981\u8981\u4ef6\u304c\u7570\u306a\u308a\u307e\u3059\u3002</p> \u30c6\u30b9\u30c8\u30cd\u30c3\u30c8\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8 \u9805\u76ee \u8981\u4ef6 OS 64-bit Linux (Ubuntu 22.04 LTS) CPU 2Ghz\u4ee5\u4e0a 2\u30b3\u30a2\u306eIntel\u307e\u305f\u306fAMD x86\u30d7\u30ed\u30bb\u30c3\u30b5\u30fc \u30e1\u30e2\u30ea 16GB \u30b9\u30c8\u30ec\u30fc\u30b8 150GB \u9805\u76ee \u8981\u4ef6 OS 64-bit Linux (Ubuntu 22.04 LTS) CPU 2Ghz\u4ee5\u4e0a 2\u30b3\u30a2\u306eIntel\u307e\u305f\u306fAMD x86\u30d7\u30ed\u30bb\u30c3\u30b5\u30fc \u30e1\u30e2\u30ea 24GB \u30b9\u30c8\u30ec\u30fc\u30b8 300GB <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3</p> Node CLI GHC Cabal 8.7.3 8.17.0.0 8.10.7 3.8.1.0 <ul> <li>\u6700\u65b0\u306eGHC/Cabal\u30d0\u30fc\u30b8\u30e7\u30f3\u306fcardano-node/cli\u306e\u30d3\u30eb\u30c9\u306b\u5931\u6557\u3059\u308b\u305f\u3081\u5fc5\u305a\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> </ul>"},{"location":"node/node-install/#2","title":"2. \u4f9d\u5b58\u95a2\u4fc2\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u65b0\u3057\u3044TMUX\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u304f</p> <pre><code>tmux new -s build\n</code></pre> <p>Ubuntu\u3092\u6700\u65b0\u72b6\u614b\u306b\u3057\u307e\u3059\u3002 <pre><code>sudo apt update -y &amp;&amp; sudo apt upgrade -y\n</code></pre></p> <p>\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059 <pre><code>sudo apt install git jq bc automake tmux rsync htop curl build-essential pkg-config libffi-dev libgmp-dev libssl-dev libtinfo-dev libsystemd-dev zlib1g-dev make g++ wget libncursesw5 libtool autoconf liblmdb-dev -y\n</code></pre></p> <p>\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210 <pre><code>mkdir $HOME/git\n</code></pre></p>"},{"location":"node/node-install/#libsodium","title":"Libsodium","text":"<pre><code>cd $HOME/git\ngit clone https://github.com/IntersectMBO/libsodium\ncd libsodium\ngit checkout dbb48cc\n./autogen.sh\n./configure\nmake\nsudo make install\n</code></pre> <p>make\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u5f8c\u534a\u306b\u51fa\u73fe\u3059\u308b <code>warning</code> \u306f\u7121\u8996\u3057\u3066\u5927\u4e08\u592b\u3067\u3059\u3002</p>"},{"location":"node/node-install/#secp256k1","title":"Secp256k1","text":"<pre><code>cd $HOME/git\ngit clone https://github.com/bitcoin-core/secp256k1.git\n</code></pre> <pre><code>cd secp256k1/\ngit checkout ac83be33\n./autogen.sh\n./configure --prefix=/usr --enable-module-schnorrsig --enable-experimental\nmake\nsudo make install\n</code></pre>"},{"location":"node/node-install/#blst","title":"blst","text":"<p>1.blst\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 <pre><code>cd $HOME/git\ngit clone https://github.com/supranational/blst\ncd blst\ngit checkout v0.3.10\n./build.sh\n</code></pre></p> <p>2.\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210</p> <p>\u3053\u306e\u30dc\u30c3\u30af\u30b9\u306f\u3059\u3079\u3066\u30b3\u30d4\u30fc\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044</p> <pre><code>cat &gt; libblst.pc &lt;&lt; EOF\nprefix=/usr/local\nexec_prefix=\\${prefix}\nlibdir=\\${exec_prefix}/lib\nincludedir=\\${prefix}/include\n\nName: libblst\nDescription: Multilingual BLS12-381 signature library\nURL: https://github.com/supranational/blst\nVersion: 0.3.10\nCflags: -I\\${includedir}\nLibs: -L\\${libdir} -lblst\nEOF\n</code></pre> <p>3.\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc</p> <p>\u3053\u306e\u30dc\u30c3\u30af\u30b9\u306f1\u884c\u305a\u3064\u30b3\u30d4\u30fc\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044</p> <pre><code>sudo cp libblst.pc /usr/local/lib/pkgconfig/\nsudo cp bindings/blst_aux.h bindings/blst.h bindings/blst.hpp  /usr/local/include/\nsudo cp libblst.a /usr/local/lib\nsudo chmod u=rw,go=r /usr/local/{lib/{libblst.a,pkgconfig/libblst.pc},include/{blst.{h,hpp},blst_aux.h}}\n</code></pre>"},{"location":"node/node-install/#ghcup","title":"GHCUP","text":"<p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5909\u6570\u8a2d\u5b9a <pre><code>cd $HOME\nBOOTSTRAP_HASKELL_NONINTERACTIVE=1\nBOOTSTRAP_HASKELL_NO_UPGRADE=1\nBOOTSTRAP_HASKELL_INSTALL_NO_STACK=yes\nBOOTSTRAP_HASKELL_ADJUST_BASHRC=1\nunset BOOTSTRAP_HASKELL_INSTALL_HLS\nexport BOOTSTRAP_HASKELL_NONINTERACTIVE BOOTSTRAP_HASKELL_INSTALL_STACK BOOTSTRAP_HASKELL_ADJUST_BASHRC\n</code></pre></p> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <pre><code>curl --proto '=https' --tlsv1.2 -sSf https://get-ghcup.haskell.org | bash\n</code></pre></p> <p>Cabal/GHC\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u3044\u3066</p> <p>\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306fcardano-node/cli\u306e\u30d3\u30eb\u30c9\u306b\u5931\u6557\u3059\u308b\u305f\u3081\u5fc5\u305a\u4ee5\u4e0b\u3067\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>cabal\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <pre><code>source ~/.bashrc\nghcup upgrade\nghcup install cabal 3.8.1.0\nghcup set cabal 3.8.1.0\n</code></pre></p> <p>GHC\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</p> <pre><code>ghcup install ghc 8.10.7\nghcup set ghc 8.10.7\n</code></pre> <p>\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d</p> <pre><code>cabal update\ncabal --version\nghc --version\n</code></pre> <p>\u30c1\u30a7\u30c3\u30af</p> <p>Cabal\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a\u300c3.8.1.0\u300d GHC\u30d0\u30fc\u30b8\u30e7\u30f3\uff1a\u300c8.10.7\u300d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u30d1\u30b9\u3092\u901a\u3057\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f $NODE_HOME(\u4f8b\uff1a/home/user/cnode) \u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>echo PATH=\"$HOME/.local/bin:$PATH\" &gt;&gt; $HOME/.bashrc\necho export LD_LIBRARY_PATH=\"/usr/local/lib:$LD_LIBRARY_PATH\" &gt;&gt; $HOME/.bashrc\necho export PKG_CONFIG_PATH=\"/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH\" &gt;&gt; $HOME/.bashrc\necho export NODE_HOME=$HOME/cnode &gt;&gt; $HOME/.bashrc\n</code></pre> <p>\u74b0\u5883\u5909\u6570\u306b\u63a5\u7d9a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u6307\u5b9a\u3059\u308b(PreProd\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8) <pre><code>echo export NODE_CONFIG=preprod &gt;&gt; $HOME/.bashrc\necho export NODE_NETWORK='\"--testnet-magic 1\"' &gt;&gt; $HOME/.bashrc\necho export CARDANO_NODE_NETWORK_ID=1 &gt;&gt; $HOME/.bashrc\n</code></pre></p> \u305d\u306e\u4ed6\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5834\u5408\u306f\u3053\u3061\u3089 Preview(\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8)Mainnet(\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8) <pre><code>echo export NODE_CONFIG=preview &gt;&gt; $HOME/.bashrc\necho export NODE_NETWORK='\"--testnet-magic 2\"' &gt;&gt; $HOME/.bashrc\necho export CARDANO_NODE_NETWORK_ID=2 &gt;&gt; $HOME/.bashrc\n</code></pre> <p>echo export NODE_CONFIG=mainnet &gt;&gt; $HOME/.bashrc echo export NODE_NETWORK='\"--mainnet\"' &gt;&gt; $HOME/.bashrc echo export CARDANO_NODE_NETWORK_ID=mainnet &gt;&gt; $HOME/.bashrc</p> <p>bashrc\u518d\u8aad\u307f\u8fbc\u307f <pre><code>source $HOME/.bashrc\n</code></pre></p>"},{"location":"node/node-install/#3","title":"3. \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9","text":"<p>\u5c02\u7528\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 <pre><code>cd $HOME/git\ngit clone https://github.com/IntersectMBO/cardano-node.git\ncd cardano-node\ngit fetch --all --recurse-submodules --tags\ngit checkout tags/8.7.3\n</code></pre></p> <p>Cabal\u306e\u30d3\u30eb\u30c9\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u69cb\u6210\u3057\u307e\u3059\u3002</p> <pre><code>cabal clean\ncabal update\ncabal configure --with-compiler=ghc-8.10.7\n</code></pre> <p>\u30ab\u30eb\u30c0\u30ce\u30ce\u30fc\u30c9\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002</p> <pre><code>cabal build cardano-cli cardano-node\n</code></pre> <p>\u30d2\u30f3\u30c8</p> <p>\u30b5\u30fc\u30d0\u30b9\u30da\u30c3\u30af\u306b\u3088\u3063\u3066\u3001\u30d3\u30eb\u30c9\u5b8c\u4e86\u307e\u3067\u306b\u6570\u5206\u304b\u3089\u6570\u6642\u9593\u304b\u304b\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>cardano-cli\u30d5\u30a1\u30a4\u30eb\u3068 cardano-node\u30d5\u30a1\u30a4\u30eb\u3092bin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002</p> <p><pre><code>sudo cp $(find $HOME/git/cardano-node/dist-newstyle/build -type f -name \"cardano-cli\") /usr/local/bin/cardano-cli\n</code></pre> <pre><code>sudo cp $(find $HOME/git/cardano-node/dist-newstyle/build -type f -name \"cardano-node\") /usr/local/bin/cardano-node\n</code></pre></p> <p>cardano-cli \u3068 cardano-node\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u6700\u65b0Git\u30bf\u30b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>cardano-node version\ncardano-cli version\n</code></pre> <p>\u4ee5\u4e0b\u306e\u623b\u308a\u5024\u3092\u78ba\u8a8d\u3059\u308b  </p> <p>cardano-cli 8.17.0.0 - linux-x86_64 - ghc-8.10 git rev a4a8119b59b1fbb9a69c79e1e6900e91292161e7  </p> <p>cardano-node 8.7.3 - linux-x86_64 - ghc-8.10 git rev a4a8119b59b1fbb9a69c79e1e6900e91292161e7  </p> <p>TMUX\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u9589\u3058\u308b</p> <pre><code>exit\n</code></pre>"},{"location":"node/node-install/#4","title":"4. \u30ce\u30fc\u30c9\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63","text":"<p>\u30ce\u30fc\u30c9\u69cb\u6210\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 config.json\u3001genesis.json\u3001topology.json</p> <pre><code>mkdir $NODE_HOME\ncd $NODE_HOME\nwget --no-use-server-timestamps -q https://book.play.dev.cardano.org/environments/${NODE_CONFIG}/byron-genesis.json -O ${NODE_CONFIG}-byron-genesis.json\nwget --no-use-server-timestamps -q https://book.play.dev.cardano.org/environments/${NODE_CONFIG}/topology-legacy.json -O ${NODE_CONFIG}-topology.json\nwget --no-use-server-timestamps -q https://book.play.dev.cardano.org/environments/${NODE_CONFIG}/shelley-genesis.json -O ${NODE_CONFIG}-shelley-genesis.json\nwget --no-use-server-timestamps -q https://book.play.dev.cardano.org/environments/${NODE_CONFIG}/alonzo-genesis.json -O ${NODE_CONFIG}-alonzo-genesis.json\nwget --no-use-server-timestamps -q https://book.play.dev.cardano.org/environments/${NODE_CONFIG}/conway-genesis.json -O ${NODE_CONFIG}-conway-genesis.json\nwget --no-use-server-timestamps -q https://book.play.dev.cardano.org/environments/${NODE_CONFIG}/config.json -O ${NODE_CONFIG}-config.json\n</code></pre> <p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057 config.json\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002  </p> <p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u308b</p> <pre><code>sed -i ${NODE_CONFIG}-config.json \\\n    -e 's!\"AlonzoGenesisFile\": \"alonzo-genesis.json\"!\"AlonzoGenesisFile\": \"'${NODE_CONFIG}'-alonzo-genesis.json\"!' \\\n    -e 's!\"ByronGenesisFile\": \"byron-genesis.json\"!\"ByronGenesisFile\": \"'${NODE_CONFIG}'-byron-genesis.json\"!' \\\n    -e 's!\"ShelleyGenesisFile\": \"shelley-genesis.json\"!\"ShelleyGenesisFile\": \"'${NODE_CONFIG}'-shelley-genesis.json\"!' \\\n    -e 's!\"ConwayGenesisFile\": \"conway-genesis.json\"!\"ConwayGenesisFile\": \"'${NODE_CONFIG}'-conway-genesis.json\"!' \\\n    -e \"s/TraceMempool\\\": false/TraceMempool\\\": true/g\" \\\n    -e 's!\"TraceBlockFetchDecisions\": false!\"TraceBlockFetchDecisions\": true!' \\\n    -e 's!\"rpKeepFilesNum\": 10!\"rpKeepFilesNum\": 30!' \\\n    -e 's!\"rpMaxAgeHours\": 24!\"rpMaxAgeHours\": 48!' \\\n    -e '/\"defaultScribes\": \\[/a\\    \\[\\n      \"FileSK\",\\n      \"'${NODE_HOME}'/logs/node.json\"\\n    \\],' \\\n    -e '/\"setupScribes\": \\[/a\\    \\{\\n      \"scFormat\": \"ScJson\",\\n      \"scKind\": \"FileSK\",\\n      \"scName\": \"'${NODE_HOME}'/logs/node.json\"\\n    \\},' \\\n    -e \"s/127.0.0.1/0.0.0.0/g\"\n</code></pre> <p>\u74b0\u5883\u5909\u6570\u3092\u8ffd\u52a0\u3057\u3001.bashrc\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</p> <pre><code>echo export CARDANO_NODE_SOCKET_PATH=\"$NODE_HOME/db/socket\" &gt;&gt; $HOME/.bashrc\nsource $HOME/.bashrc\n</code></pre>"},{"location":"node/node-install/#5-db","title":"5. \u30aa\u30f3\u30c1\u30a7\u30fc\u30f3DB\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9","text":"<p>\u30df\u30b9\u30ea\u30eb\u30d7\u30ed\u30c8\u30b3\u30eb\u3068\u306f\uff1f</p> <p>\u30df\u30b9\u30ea\u30eb\u306fIOG\u7814\u7a76\u8ad6\u6587Mithril: Stake-based Threshold Multisignatures\u306b\u57fa\u3065\u3044\u3066\u958b\u767a\u3055\u308c\u305f\u30de\u30eb\u30c1\u7f72\u540d\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002</p> <ul> <li>\u73fe\u6642\u70b9\u3067\u306f\u30b9\u30c6\u30fc\u30af\u30d7\u30fc\u30eb\u30aa\u30da\u30ec\u30fc\u30bf\u304c\u30df\u30b9\u30ea\u30eb\u30a2\u30b0\u30ea\u30b2\u30fc\u30bf\u30fc\u304c\u4f5c\u6210\u3059\u308b\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8DB\u306b\u7f72\u540d\u3059\u308b\u3053\u3068\u3067\u3001\u30c1\u30a7\u30fc\u30f3\u30c7\u30fc\u30bf\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</li> <li>\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8\u306e\u5834\u5408\u3001\u30ce\u30fc\u30c9\u521d\u56de\u8d77\u52d5\u6642\u306eDB\u540c\u671f\u6642\u9593\u3092\u7d042\u65e5\u304b\u3089\u7d0430\u5206\u4ee5\u5185\u306b\u307e\u3067\u77ed\u7e2e\u3067\u304d\u307e\u3059\u3002</li> <li>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30ce\u30fc\u30c9\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u30b5\u30fc\u30d0\u30fc\u30ce\u30fc\u30c9\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u7570\u306a\u308b\u5834\u5408\u3001DB\u518d\u69cb\u7bc9\u51e6\u7406\u304c\u5165\u308b\u5834\u5408\u304c\u3042\u308aDB\u540c\u671f\u307e\u3067\u306b\u6570\u6642\u9593\u304b\u304b\u308a\u307e\u3059\u3002</li> </ul>"},{"location":"node/node-install/#5-1","title":"5-1.\u4f9d\u5b58\u74b0\u5883\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>sudo apt install -y libssl-dev build-essential m4 jq\n</code></pre>"},{"location":"node/node-install/#5-2rust","title":"5-2.Rust\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>RUST\u74b0\u5883\u3092\u6e96\u5099\u3057\u307e\u3059 <pre><code>mkdir $HOME/.cargo &amp;&amp; mkdir $HOME/.cargo/bin\nchown -R $USER $HOME/.cargo\ntouch $HOME/.profile\nchown $USER $HOME/.profile\n</code></pre></p> <p>rustup\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <pre><code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n</code></pre></p> <p>1) Proceed with installation (default) 1\u3092\u5165\u529b\u3057\u3066Enter</p> <pre><code>source $HOME/.cargo/env\n</code></pre> <pre><code>rustup install stable\nrustup default stable\nrustup update\nrustup component add clippy rustfmt\nrustup target add x86_64-unknown-linux-musl\n</code></pre>"},{"location":"node/node-install/#5-3mithril-client","title":"5-3.Mithril-Client\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>cd $HOME/git\ngit clone https://github.com/input-output-hk/mithril.git\n</code></pre> <pre><code>cd mithril\ngit fetch --all --prune\ngit checkout tags/2403.1\n</code></pre> <p>\u30d3\u30eb\u30c9 <pre><code>cd mithril-client-cli\nmake build\n</code></pre></p> <p>\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d <pre><code>./mithril-client -V\n</code></pre></p> <p>mithril-client 0.5.17</p> <p>\u30b7\u30b9\u30c6\u30e0\u30d5\u30a9\u30eb\u30c0\u3078\u30b3\u30d4\u30fc <pre><code>sudo mv mithril-client /usr/local/bin/mithril-client\n</code></pre></p> <p>\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d <pre><code>mithril-client -V\n</code></pre></p> <p>mithril-client 0.5.17</p>"},{"location":"node/node-install/#5-4db","title":"5-4.DB\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30fb\u89e3\u51cd","text":"<p>tmux\u4f5c\u696d\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u4f5c\u6210\u3059\u308b <pre><code>tmux new -s mithril\n</code></pre></p> <p>3-1.\u5909\u6570\u30bb\u30c3\u30c8 <pre><code>export NETWORK=preprod\nexport AGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator\nexport GENESIS_VERIFICATION_KEY=$(wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/genesis.vkey)\nexport SNAPSHOT_DIGEST=latest\n</code></pre></p> \u305d\u306e\u4ed6\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5834\u5408 <p>=== 'Preview(\u30c6\u30b9\u30c8\u30cd\u30c3\u30c8)'     <pre><code>export NETWORK=preview\nexport AGGREGATOR_ENDPOINT=https://aggregator.pre-release-preview.api.mithril.network/aggregator\nexport GENESIS_VERIFICATION_KEY=$(wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/genesis.vkey)\nexport SNAPSHOT_DIGEST=latest\n</code></pre></p> <p>=== 'Mainnet(\u30e1\u30a4\u30f3\u30cd\u30c3\u30c8)'     <pre><code>export NETWORK=mainnet\nexport AGGREGATOR_ENDPOINT=https://aggregator.release-mainnet.api.mithril.network/aggregator\nexport GENESIS_VERIFICATION_KEY=$(wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/genesis.vkey)\nexport SNAPSHOT_DIGEST=latest\n</code></pre></p> <p>3-2.\u6700\u65b0\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8DL</p> <p>\u65e2\u5b58DB\u30d5\u30a9\u30eb\u30c0\u524a\u9664 <pre><code>rm -rf $NODE_HOME/db\n</code></pre></p> <p>\u6700\u65b0\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ca\u3073\u89e3\u51cd <pre><code>mithril-client snapshot download --download-dir $NODE_HOME latest\n</code></pre></p> <p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\uff5e\u89e3\u51cd\u307e\u3067\u81ea\u52d5\u7684\u306b\u884c\u308f\u308c\u307e\u3059\u30021/5\uff5e5/5\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u5f85\u3061\u307e\u3057\u3087\u3046</p> <p>tmux\u4f5c\u696d\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u7d42\u4e86\u3059\u308b <pre><code>exit\n</code></pre></p> \u305d\u306e\u4ed6\u306emithril-client\u30b3\u30de\u30f3\u30c9 <p>Cardano\u30ce\u30fc\u30c9\u3092\u30d6\u30fc\u30c8\u30b9\u30c8\u30e9\u30c3\u30d7\u3067\u304d\u308b\u5229\u7528\u53ef\u80fd\u306a\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u4e00\u89a7\u8868\u793a <pre><code>mithril-client snapshot list\n</code></pre></p> <p>\u623b\u308a\u5024 <pre><code>+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| Epoch | Immutable | Network | Digest                                                           | Size        | Locations | Created                           |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| 438   | 4822      | mainnet | dfc05780e0aaefc0e0466cbf69f3c82561e99f8b208626b9870a2e69344199dc | 40337208527 |         1 | 2023-09-27 05:21:39.339429454 UTC |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| 438   | 4821      | mainnet | bbe08607a326c1d6e52c43897808b8ca4c02cc0fbb3d0248b341fd7bbc81f2e3 | 40328088621 |         1 | 2023-09-26 23:13:39.908538941 UTC |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| 438   | 4820      | mainnet | d993a6267fefa1c34c0f270337dc3fa5324bc399f908e4a38ec80bb3348e8fe1 | 40320340866 |         1 | 2023-09-26 17:31:56.927673920 UTC |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| 438   | 4819      | mainnet | f8dd9c7ee08c6dffebe851a19af44bcb82990d4c174dc366dfaa18e40c20b842 | 40316728370 |         1 | 2023-09-26 11:50:50.123658352 UTC |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| 438   | 4818      | mainnet | 70c5c6847116d0a4ca93f81ac193db9d2a17084065963ae298646a157825ab7e | 40314024073 |         1 | 2023-09-26 05:44:57.236767751 UTC |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| 438   | 4817      | mainnet | 0597ca3e7d699155ce73aaae53805ea32a981ff213f772dd70e9dbead626acf2 | 40299093577 |         1 | 2023-09-25 23:13:32.500760943 UTC |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n| 438   | 4816      | mainnet | 074a576bce34006369837899ecdaaac69f18e31dd193aaa5527d32a7c36fb10e | 40285275527 |         1 | 2023-09-25 17:33:02.562751472 UTC |\n+-------+-----------+---------+------------------------------------------------------------------+-------------+-----------+-----------------------------------+\n</code></pre></p> <p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u8a73\u7d30\u8868\u793a <pre><code>mithril-client snapshot show (Digest\u30cf\u30c3\u30b7\u30e5\u5024\u6307\u5b9a)\n</code></pre> \u623b\u308a\u5024 <pre><code>+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Info                  | Value                                                                                                                                                                         |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Epoch                 | 438                                                                                                                                                                           |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Immutable File Number | 4821                                                                                                                                                                          |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Network               | mainnet                                                                                                                                                                       |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Digest                | bbe08607a326c1d6e52c43897808b8ca4c02cc0fbb3d0248b341fd7bbc81f2e3                                                                                                              |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Size                  | 40328088621                                                                                                                                                                   |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Cardano node version  | 8.1.2                                                                                                                                                                         |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Location 1            | https://storage.googleapis.com/cdn.aggregator.release-mainnet.api.mithril.network/mainnet-e438-i4821.bbe08607a326c1d6e52c43897808b8ca4c02cc0fbb3d0248b341fd7bbc81f2e3.tar.zst |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Created               | 2023-09-26 23:13:39.908538941 UTC                                                                                                                                             |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Compression Algorithm | Zstandard                                                                                                                                                                     |\n+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n</code></pre></p>"},{"location":"node/node-run/","title":"\u30ce\u30fc\u30c9\u3092\u8d77\u52d5\u3059\u308b","text":""},{"location":"node/node-run/#1","title":"1. \u30ce\u30fc\u30c9\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210","text":"<p>\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u3001DB\u30d1\u30b9\u3001\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3001\u30c8\u30dd\u30ed\u30b8\u30fc\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u306a\u3069\u3001\u30ab\u30eb\u30c0\u30ce\u30ce\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u5909\u6570\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b <pre><code>cat &gt; $NODE_HOME/startRelayNode1.sh &lt;&lt; EOF \n#!/bin/bash\nDIRECTORY=$NODE_HOME\nPORT=6000\nHOSTADDR=0.0.0.0\nTOPOLOGY=\\${DIRECTORY}/${NODE_CONFIG}-topology.json\nDB_PATH=\\${DIRECTORY}/db\nSOCKET_PATH=\\${DIRECTORY}/db/socket\nCONFIG=\\${DIRECTORY}/${NODE_CONFIG}-config.json\n/usr/local/bin/cardano-node +RTS -N --disable-delayed-os-memory-return -I0.1 -Iw300 -A16m -F1.5 -H2500M -RTS run --topology \\${TOPOLOGY} --database-path \\${DB_PATH} --socket-path \\${SOCKET_PATH} --host-addr \\${HOSTADDR} --port \\${PORT} --config \\${CONFIG}\nEOF\n</code></pre></p> <p>\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b</p> <pre><code>cd $NODE_HOME\nchmod +x startRelayNode1.sh\n</code></pre>"},{"location":"node/node-run/#2-systemd","title":"2. \u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a(systemd)","text":"<p>\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <pre><code>cat &gt; $NODE_HOME/cardano-node.service &lt;&lt; EOF \n# The Cardano node service (part of systemd)\n# file: /etc/systemd/system/cardano-node.service \n\n[Unit]\nDescription     = Cardano node service\nWants           = network-online.target\nAfter           = network-online.target \n\n[Service]\nUser            = ${USER}\nType            = simple\nWorkingDirectory= ${NODE_HOME}\nExecStart       = /bin/bash -c '${NODE_HOME}/startRelayNode1.sh'\nKillSignal=SIGINT\nRestartKillSignal=SIGINT\nTimeoutStopSec=300\nLimitNOFILE=32768\nRestart=always\nRestartSec=5\nSyslogIdentifier=cardano-node\n\n[Install]\nWantedBy    = multi-user.target\nEOF\n</code></pre> <p><code>/etc/systemd/system</code>\u306b\u30e6\u30cb\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3066\u3001\u6a29\u9650\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002</p> <pre><code>sudo cp $NODE_HOME/cardano-node.service /etc/systemd/system/cardano-node.service\n</code></pre> <pre><code>sudo chmod 644 /etc/systemd/system/cardano-node.service\n</code></pre> <p>\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001OS\u8d77\u52d5\u6642\u306b\u30b5\u30fc\u30d3\u30b9\u306e\u81ea\u52d5\u8d77\u52d5\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable cardano-node\n</code></pre> <p>\u30a8\u30a4\u30ea\u30a2\u30b9\u8a2d\u5b9a</p> <p>\u30b9\u30af\u30ea\u30d7\u30c8\u3078\u306e\u30d1\u30b9\u3092\u901a\u3057\u3001\u4efb\u610f\u306e\u5358\u8a9e\u3067\u8d77\u52d5\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002 <pre><code>echo alias cnode='\"journalctl -u cardano-node -f\"' &gt;&gt; $HOME/.bashrc\necho alias cnstart='\"sudo systemctl start cardano-node\"' &gt;&gt; $HOME/.bashrc\necho alias cnrestart='\"sudo systemctl reload-or-restart cardano-node\"' &gt;&gt; $HOME/.bashrc\necho alias cnstop='\"sudo systemctl stop cardano-node\"' &gt;&gt; $HOME/.bashrc\nsource $HOME/.bashrc\n</code></pre></p> <p>\u5358\u8a9e\u3092\u5165\u529b\u3059\u308b\u3060\u3051\u3067\u3001\u8d77\u52d5\u72b6\u614b(\u30ed\u30b0)\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 <pre><code>cnode \u30fb\u30fb\u30fb\u30ed\u30b0\u8868\u793a\ncnstart \u30fb\u30fb\u30fb\u30ce\u30fc\u30c9\u8d77\u52d5\ncnrestart \u30fb\u30fb\u30fb\u30ce\u30fc\u30c9\u518d\u8d77\u52d5\ncnstop \u30fb\u30fb\u30fb\u30ce\u30fc\u30c9\u505c\u6b62\n</code></pre></p>"},{"location":"node/node-run/#3-gliveview","title":"3. gLiveView\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>gLiveView\u306f\u30ce\u30fc\u30c9\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53ef\u8996\u5316\u3059\u308bTUI\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u3053\u306e\u30c4\u30fc\u30eb\u306f\u30ab\u30eb\u30c0\u30ce\u30b3\u30df\u30e5\u30cb\u30c6\u30a3 Guild Operators \u306e\u529f\u7e3e\u306b\u3088\u308b\u3082\u306e\u3067\u3059\u3002</p> <p>Guild LiveView\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <p><pre><code>mkdir $NODE_HOME/scripts\ncd $NODE_HOME/scripts\nsudo apt install bc tcptraceroute -y\n</code></pre> <pre><code>curl -s -o gLiveView.sh https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/gLiveView.sh\ncurl -s -o env https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/env\nchmod 755 gLiveView.sh\n</code></pre></p> <pre><code>sed -i $NODE_HOME/scripts/env \\\n    -e '1,73s!#CNODE_HOME=\"/opt/cardano/cnode\"!CNODE_HOME=${NODE_HOME}!' \\\n    -e '1,73s!#UPDATE_CHECK=\"Y\"!UPDATE_CHECK=\"N\"!' \\\n    -e '1,73s!#CONFIG=\"${CNODE_HOME}/files/config.json\"!CONFIG=\"${CNODE_HOME}/'${NODE_CONFIG}'-config.json\"!' \\\n    -e '1,73s!#SOCKET=\"${CNODE_HOME}/sockets/node0.socket\"!SOCKET=\"${CNODE_HOME}/db/socket\"!'\n</code></pre>"},{"location":"node/node-run/#4","title":"4.\u30ce\u30fc\u30c9\u3092\u8d77\u52d5\u3059\u308b","text":"<pre><code>sudo systemctl start cardano-node\n</code></pre> <p>\u30ce\u30fc\u30c9\u30ed\u30b0\u3092\u78ba\u8a8d\u3059\u308b <pre><code>journalctl --unit=cardano-node --follow\n</code></pre></p> <p>\u30c1\u30a7\u30fc\u30f3\u540c\u671f\u78ba\u8a8d</p> <ul> <li><code>Started opening Ledger DB</code> \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u305f\u3089\u540c\u671f\u6e96\u5099\u4e2d\u3067\u3059\u3002</li> <li>\u30c1\u30a7\u30fc\u30f3\u540c\u671f\u307e\u3067\u306b4\u5206\u524d\u5f8c\u304b\u304b\u308a\u307e\u3059\u3002</li> <li>Ctrl + c \u3067\u9589\u3058\u3066\u3082\u30ce\u30fc\u30c9\u306f\u505c\u6b62\u3057\u307e\u305b\u3093\u3002</li> </ul> <p>GliveView\u8d77\u52d5\u30a8\u30a4\u30ea\u30a2\u30b9\u767b\u9332 <pre><code>echo alias glive=\"'cd $NODE_HOME/scripts; ./gLiveView.sh'\" &gt;&gt; $HOME/.bashrc\nsource $HOME/.bashrc\n</code></pre></p> <p>gLiveview\u3092\u8d77\u52d5\u3059\u308b</p> <pre><code>glive\n</code></pre> <p></p>"}]}